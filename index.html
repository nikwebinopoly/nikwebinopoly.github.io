<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Branch Name Generator</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
</head>
<body>
    <div class="container">

        <div class="row row-top">
            <div class="col-xs-12">
                <h1>Branch Name Generator</h1>
            </div>
        </div>

        <div class="row">
            <div class="col-xs-12 col-sm-3">
                <div class="form-group">
                    <label for="type">Type</label>
                    <select id="type" class="form-control">
                        <option value="feature" selected>Feature</option>
                        <option value="fix">Bug</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-xs-12">
                <div class="form-group">
                    <label for="ticket_name">Ticket Name</label>
                    <input type="text" id="ticket_name" class="form-control" />
                </div>
            </div>
        </div>

        <div class="row row-top">
            <div class="col-xs-12">
                <label for="branch_name">Branch Name</label>
                <textarea id="branch_name" class="form-control"></textarea>
            </div>
        </div>

    </div>
</body>
</html>
<style>
    .row-top {
        margin-bottom: 20px;
    }
</style>
<script>
function convertToSlug(text) {
    return text.toLowerCase()
    .replace('_', '-')
    .replace(/[^\w ]+/g, '')
    .replace(/ +/g, '-');
}

// Function to update the textarea value
function updateTextarea() {
    var type = document.getElementById("type").value;
    var ticketName = document.getElementById('ticket_name').value;
    var branchName = type + '/' + convertToSlug(ticketName);

    document.querySelector('textarea').value = branchName;
}

// Bind event listeners to text input and select elements
var inputText = document.querySelectorAll('input[type="text"]');
var selectElement = document.querySelectorAll('select');

inputText.forEach(function(input) {
    input.addEventListener('keyup', updateTextarea);
    input.addEventListener('keydown', updateTextarea);
    input.addEventListener('change', updateTextarea);
});

selectElement.forEach(function(select) {
    select.addEventListener('change', updateTextarea);
});
</script>
